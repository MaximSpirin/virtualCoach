<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Dash line demo</title>
</head>
<body onload="init()">
    <script type="text/javascript" src="js/external/createjs/easeljs-0.8.1.combined.js"></script>
    <script src="js/view/pitch/SizeHint.js"></script>
    <script src="js/view/tools/RotationTool.js"></script>

    <script>
        function init(){
            //init easeljs stage
            var stage = new createjs.Stage("appCanvas");
            window.stage = stage;
            createjs.Ticker.on("tick", handleTick, this);
            function handleTick(event) {
                stage.update();
            }

            /*var rotationTarget = new createjs.Shape();
            rotationTarget.x = 200;
            rotationTarget.y = 200;
            rotationTarget.graphics.beginFill("#00FF00").drawRect(-25,-25,50,50);
            rotationTarget.setBounds(0,0,50,50);
            window.stage.addChild(rotationTarget);


            var handler = new createjs.Shape();
            handler.setBounds(0,0,30,30);
            handler.graphics.beginFill("#FF0000");
            handler.cursor = "pointer";
            handler.graphics.drawCircle(0,0,15);

            var rotationTool = new RotationTool(rotationTarget.getBounds().width/2 + 5,rotationTarget.getBounds().width/2+5,handler,0);
            rotationTool.x = rotationTarget.x;
            rotationTool.y = rotationTarget.y;
            rotationTool.on("change", function(event){
                rotationTarget.rotation = rotationTool.angle;
                //console.log("Rotate to:"+rotationTool.angle);
            }, this);
            window.stage.addChild(rotationTool);*/

            //draw arrow
            this.arrowShape = new createjs.Shape();
            this.arrowShape.graphics.beginFill("#ff0000").moveTo(-6,7).lineTo(1,0).lineTo(-6, -7);

            this.arrowShape.rotation = -180;
            this.arrowShape.x=1;
            this.arrowShape.y=150-3;
            stage.addChild(this.arrowShape);

            var sineShape = new createjs.Shape();
            sineShape.graphics.setStrokeStyle(2);
            sineShape.graphics.beginStroke("#FF0000");

            //start first line segment at position (0, f(0))
            sineShape.graphics.moveTo(5, f(0));
            //keep on drawing line segments to (i, f(i) as i moves across the width of the canvas)
            for(var i=5; i<47; i++){
                var lineY = f(i);
                //console.log("x=", i, "y=", lineY);
                sineShape.graphics.lineTo(i, lineY);
            }




            //add curve to stage
            stage.addChild(sineShape);






            /*
             * defines the the shape of curve the ball will be bouncing off of.
             * Try playing around with the values inside this function!
             */
            function f(x) {
                //return 100*Math.sin((2*x)*3.14/180)+300;
                return -4*Math.sin((x*8)*3.14/180)+150;
            }

        }

    </script>

    <!-- app container -->
    <div id="appContainer">
        <canvas id="appCanvas" width="800" height="600">

        </canvas>
    </div>
</body>
</html>